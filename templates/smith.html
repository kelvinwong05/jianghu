{% extends "layout.html" %}

{% block title %}
    Smith
{% endblock %}

{% block main %}
    <h5>Your current stamina is {{ profile['stamina'] }}.</h5><br>
        <div class="accordion" id="accordionExample">
            <div class="accordion-item">
              <h2 class="accordion-header">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                    Smith - Weapons
                </button>
              </h2>
              <div id="collapseOne" class="accordion-collapse collapse show">
                <div class="accordion-body">
                    <p>Choose the weapon you would like to make!</p>
                    <form action="/smith" method="post">
                      <div class="container">
                        <table>
                          <th>Weapon</th>
                          <th>Requirement</th>
                          <th>Action</th>
                          {% for weapon in weapons %}
                              <tr>
                                  <td>{{ weapon['name'] }}</td>
                                  <td>
                                    <ul>
                                      {% for material, quantity in weapon['materials'].items() %}
                                          <li> {{ material }} : {{ quantity }}</li>
                                      {% endfor %}
                                    </ul>
                                  </td>
                                  <td>
                                    <button type="submit" class="btn btn-success" name="weapon" value="{{ weapon['name']}}" onsubmit="return confirmSubmission()">Make</button>
                                  </td>
                              </tr>
                          {% endfor %}
                        </table>
                      </div>
                    </form>
                </div>
              </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header">
                  <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                      Smith - Armours
                  </button>
                </h2>
                <div id="collapseTwo" class="accordion-collapse collapse show">
                  <div class="accordion-body">
                    <p>Choose the armour you would like to make!</p>
                      <form action="/smith" method="post">
                        <div class="container">
                          <table>
                            <th>Armour</th>
                            <th>Requirement</th>
                            <th>Action</th>
                            {% for armour in armours %}
                              <tr>
                                  <td>{{ armour['name'] }}</td>
                                  <td>
                                    <ul>
                                      {% for material, quantity in armour['materials'].items() %}
                                        <li>{{ material }} : {{ quantity }} </li>
                                      {% endfor %}
                                    </ul>
                                  </td>
                                  <td>
                                    <button type="submit" class="btn btn-success" name="armour" value="{{ armour['name']}}" >Make</button>
                                  </td>
                              </tr>
                            {% endfor %}
                          </table>
                        </div>
                      </form>
                  </div>
                </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-target="#collapseThree" data-bs-toggle="collapse"  aria-expanded="false" aria-controls="collapseThree">
                  Items
                </button>
              </h2>
              <div id="collapseThree" class="accordion-collapse collapse">
                <div class="accordion-body">
                  <div class="container">
                    <table>
                        <th>Item</th>
                        <th>Quantity</th>
                        <th>Category</th>
                        {% for item in user_items %}
                            <tr>
                                <td>{{ item['name'] }}</td>
                                <td>{{ item['quantity'] }}</td>
                                <td>{{ item['category'] }}</td>
                            </tr>
                        {% endfor %}
                    </table>
                  </div>
                </div>
              </div>
            </div>
        </div>
{% endblock %}

